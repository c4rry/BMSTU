// DZ1.cpp: определяет точку входа для консольного приложения.
// Программа преобразования времени для Л.Р.1 05.09.15

#include "stdafx.h"
#include <string>
#include <iostream>

using namespace std;

int main()
{
	int h;//переменная часов
	int m;//переменная минут
	bool dn;//переменная времени суток. 1-день, 0-ночь
	string endh;//переменная для окончаний часов
	string endm;//переменная для окончания минут
	string dnt;//переменная для времени суток

	setlocale(LC_ALL, "Russian");

	cout << "Введите время(часы и минуты): \n";
	cin >> h >> m; // считывание данных

	/*dn = ((h / 12) > 0);  //определение половины дня (старый код, можно выкинуть)
	if (dn)
		dnt = "дня";
	else 
		dnt = "ночи";*/

	dn = ((h / 12) > 0);  //определение половины дня

	if (h == 12 || h == 0)
		h = 12;
	else
		h = h % 12;//перевод часов в 12-ти часовой формат

	if (!dn)
	{
		if (h <= 3) //с полуночи до трех - ночь
			dnt = "ночи";
		else
			dnt = "утра"; //с 4 до 11 - утро
	}
	else
	{
		if (h <= 4 || h == 12)
			dnt = "дня"; // с 12 до 4 - день
		else
			dnt = "вечера"; // с 5 до 11 - вечер
	};

	if ((h >= 2) && (h <= 4)) //блок определения окончаний для часов
		endh = " часа ";          // с 2 до 4 часов
	else
		if (h == 1)
			endh = " час ";       // для часа
		else
		endh = " часов "; 

    //если ровный час
	if (m == 0)
	{
		if (h == 12)
		{
			if (dn)
				cout << "Сейчас полдень" << endl;
			else
				cout << "Сейчас полночь" << endl;
		}
		else
		{
			cout << "Сейчас ровно " << h << endh << dnt << endl;
		};
	}
	else
	{
		if (m % 10 == 1)
			endm = " минута ";                                     // а, если первая минута 
		else
		{
			if ((m % 10 <= 4) && (m % 10 != 0))                               // ы, если минута со 2 по 4
				endm = " минуты ";
			else
				endm = " минут ";
		};

		cout << "Сейчас " << h << endh << m << endm << dnt << endl;
	};

    return 0;
}
